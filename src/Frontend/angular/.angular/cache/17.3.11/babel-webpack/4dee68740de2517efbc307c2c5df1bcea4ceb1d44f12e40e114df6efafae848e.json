{"ast":null,"code":"import { Component, Input } from '@angular/core';\nimport { mapButtonToCommand } from '@sitecore-jss/sitecore-jss/editing';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nconst _c0 = [\"*\"];\nfunction EditFrameComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵprojection(0);\n  }\n}\nfunction EditFrameComponent_div_2_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction EditFrameComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 3);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, EditFrameComponent_div_2_ng_container_3_Template, 1, 0, \"ng-container\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    const childContent_r2 = i0.ɵɵreference(1);\n    i0.ɵɵclassMap(ctx_r0.frameProps.class);\n    i0.ɵɵattribute(\"sc_item\", ctx_r0.frameProps.sc_item);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.chromeData);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngTemplateOutlet\", childContent_r2);\n  }\n}\nfunction EditFrameComponent_ng_template_3_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction EditFrameComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, EditFrameComponent_ng_template_3_ng_container_0_Template, 1, 0, \"ng-container\", 4);\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const childContent_r2 = i0.ɵɵreference(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", childContent_r2);\n  }\n}\nexport let EditFrameComponent = /*#__PURE__*/(() => {\n  class EditFrameComponent {\n    dataSource;\n    buttons;\n    title;\n    tooltip;\n    cssClass;\n    parameters;\n    sitecore;\n    isEditing = false;\n    frameProps = {};\n    chromeData = '';\n    ngOnChanges() {\n      this.isEditing = this.sitecore.context.pageEditing || false;\n      if (!this.isEditing) {\n        return;\n      }\n      this.frameProps.class = 'scLooseFrameZone';\n      if (this.cssClass) {\n        this.frameProps.class = `${this.frameProps.class} ${this.cssClass}`;\n      }\n      // item uri for edit frame target\n      if (this.dataSource) {\n        const route = this.sitecore.route;\n        const databaseName = this.dataSource.databaseName || route?.databaseName;\n        const language = this.dataSource.language || this.sitecore.context.language;\n        this.frameProps.sc_item = `sitecore://${databaseName}/${this.dataSource.itemId}?lang=${language}`;\n      }\n      this.chromeData = this.buildChromeData();\n    }\n    buildChromeData() {\n      const chromeData = {\n        displayName: this.title,\n        expandedDisplayName: this.tooltip\n      };\n      if (this.dataSource) {\n        chromeData.contextItemUri = this.frameProps.sc_item;\n      }\n      chromeData.commands = this.buttons?.map(value => {\n        return mapButtonToCommand(value, this.dataSource?.itemId, this.parameters);\n      });\n      return JSON.stringify(chromeData);\n    }\n    static ɵfac = function EditFrameComponent_Factory(t) {\n      return new (t || EditFrameComponent)();\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: EditFrameComponent,\n      selectors: [[\"sc-edit-frame\"], [\"\", \"sc-edit-frame\", \"\"]],\n      inputs: {\n        dataSource: \"dataSource\",\n        buttons: \"buttons\",\n        title: \"title\",\n        tooltip: \"tooltip\",\n        cssClass: \"cssClass\",\n        parameters: \"parameters\",\n        sitecore: \"sitecore\"\n      },\n      features: [i0.ɵɵNgOnChangesFeature],\n      ngContentSelectors: _c0,\n      decls: 5,\n      vars: 2,\n      consts: [[\"childContent\", \"\"], [\"elseBlock\", \"\"], [3, \"class\", 4, \"ngIf\", \"ngIfElse\"], [1, \"scChromeData\"], [4, \"ngTemplateOutlet\"]],\n      template: function EditFrameComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵprojectionDef();\n          i0.ɵɵtemplate(0, EditFrameComponent_ng_template_0_Template, 1, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor)(2, EditFrameComponent_div_2_Template, 4, 5, \"div\", 2)(3, EditFrameComponent_ng_template_3_Template, 1, 1, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        }\n        if (rf & 2) {\n          const elseBlock_r3 = i0.ɵɵreference(4);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.isEditing)(\"ngIfElse\", elseBlock_r3);\n        }\n      },\n      dependencies: [i1.NgIf, i1.NgTemplateOutlet],\n      encapsulation: 2\n    });\n  }\n  return EditFrameComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdGZyYW1lLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2VkaXRmcmFtZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQWEsTUFBTSxlQUFlLENBQUM7QUFDNUQsT0FBTyxFQUlMLGtCQUFrQixHQUNuQixNQUFNLG9DQUFvQyxDQUFDOzs7QUFzQjVDLE1BQU0sT0FBTyxrQkFBa0I7SUFDcEIsVUFBVSxDQUFzQjtJQUVoQyxPQUFPLENBQW9CO0lBRTNCLEtBQUssQ0FBUztJQUVkLE9BQU8sQ0FBUztJQUVoQixRQUFRLENBQVM7SUFFakIsVUFBVSxDQUErRDtJQUV6RSxRQUFRLENBRWY7SUFFRixTQUFTLEdBQUcsS0FBSyxDQUFDO0lBQ2xCLFVBQVUsR0FBNEIsRUFBRSxDQUFDO0lBQ3pDLFVBQVUsR0FBRyxFQUFFLENBQUM7SUFFaEIsV0FBVztRQUNULElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsV0FBVyxJQUFJLEtBQUssQ0FBQztRQUM1RCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ3BCLE9BQU87UUFDVCxDQUFDO1FBRUQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEdBQUcsa0JBQWtCLENBQUM7UUFDM0MsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDbEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDdEUsQ0FBQztRQUVELGlDQUFpQztRQUNqQyxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUNwQixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztZQUNsQyxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksSUFBSSxLQUFLLEVBQUUsWUFBWSxDQUFDO1lBQ3pFLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQztZQUM1RSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sR0FBRyxjQUFjLFlBQVksSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sU0FBUyxRQUFRLEVBQUUsQ0FBQztRQUNwRyxDQUFDO1FBRUQsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDM0MsQ0FBQztJQUVELGVBQWU7UUFDYixNQUFNLFVBQVUsR0FBNEI7WUFDMUMsV0FBVyxFQUFFLElBQUksQ0FBQyxLQUFLO1lBQ3ZCLG1CQUFtQixFQUFFLElBQUksQ0FBQyxPQUFPO1NBQ2xDLENBQUM7UUFFRixJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUNwQixVQUFVLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDO1FBQ3RELENBQUM7UUFFRCxVQUFVLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUNyQyxDQUFDLEtBQUssRUFBaUIsRUFBRTtZQUN2QixPQUFPLGtCQUFrQixDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDN0UsQ0FBQyxDQUNGLENBQUM7UUFFRixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDcEMsQ0FBQzt3R0E1RFUsa0JBQWtCOzRGQUFsQixrQkFBa0IsOFBBakJuQjs7Ozs7Ozs7Ozs7Ozs7O0dBZVQ7OzRGQUVVLGtCQUFrQjtrQkFuQjlCLFNBQVM7bUJBQUM7b0JBQ1QsUUFBUSxFQUFFLCtCQUErQjtvQkFDekMsUUFBUSxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7R0FlVDtpQkFDRjs4QkFFVSxVQUFVO3NCQUFsQixLQUFLO2dCQUVHLE9BQU87c0JBQWYsS0FBSztnQkFFRyxLQUFLO3NCQUFiLEtBQUs7Z0JBRUcsT0FBTztzQkFBZixLQUFLO2dCQUVHLFFBQVE7c0JBQWhCLEtBQUs7Z0JBRUcsVUFBVTtzQkFBbEIsS0FBSztnQkFFRyxRQUFRO3NCQUFoQixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25DaGFuZ2VzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7XHJcbiAgRWRpdEZyYW1lRGF0YVNvdXJjZSxcclxuICBDaHJvbWVDb21tYW5kLFxyXG4gIEVkaXRCdXR0b25UeXBlcyxcclxuICBtYXBCdXR0b25Ub0NvbW1hbmQsXHJcbn0gZnJvbSAnQHNpdGVjb3JlLWpzcy9zaXRlY29yZS1qc3MvZWRpdGluZyc7XHJcbmltcG9ydCB7IExheW91dFNlcnZpY2VDb250ZXh0RGF0YSwgUm91dGVEYXRhIH0gZnJvbSAnQHNpdGVjb3JlLWpzcy9zaXRlY29yZS1qc3MvbGF5b3V0JztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnc2MtZWRpdC1mcmFtZSxbc2MtZWRpdC1mcmFtZV0nLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8bmctdGVtcGxhdGUgI2NoaWxkQ29udGVudD5cclxuICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxyXG4gICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgIDxkaXZcclxuICAgICAgKm5nSWY9XCJpc0VkaXRpbmc7IGVsc2UgZWxzZUJsb2NrXCJcclxuICAgICAgW2NsYXNzXT1cImZyYW1lUHJvcHMuY2xhc3NcIlxyXG4gICAgICBbYXR0ci5zY19pdGVtXT1cImZyYW1lUHJvcHMuc2NfaXRlbVwiXHJcbiAgICA+XHJcbiAgICAgIDxzcGFuIGNsYXNzPVwic2NDaHJvbWVEYXRhXCI+e3sgY2hyb21lRGF0YSB9fTwvc3Bhbj5cclxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImNoaWxkQ29udGVudFwiPjwvbmctY29udGFpbmVyPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8bmctdGVtcGxhdGUgI2Vsc2VCbG9jaz5cclxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImNoaWxkQ29udGVudFwiPjwvbmctY29udGFpbmVyPlxyXG4gICAgPC9uZy10ZW1wbGF0ZT5cclxuICBgLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgRWRpdEZyYW1lQ29tcG9uZW50IGltcGxlbWVudHMgT25DaGFuZ2VzIHtcclxuICBASW5wdXQoKSBkYXRhU291cmNlOiBFZGl0RnJhbWVEYXRhU291cmNlO1xyXG5cclxuICBASW5wdXQoKSBidXR0b25zOiBFZGl0QnV0dG9uVHlwZXNbXTtcclxuXHJcbiAgQElucHV0KCkgdGl0bGU6IHN0cmluZztcclxuXHJcbiAgQElucHV0KCkgdG9vbHRpcDogc3RyaW5nO1xyXG5cclxuICBASW5wdXQoKSBjc3NDbGFzczogc3RyaW5nO1xyXG5cclxuICBASW5wdXQoKSBwYXJhbWV0ZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgdW5kZWZpbmVkIHwgbnVsbD47XHJcblxyXG4gIEBJbnB1dCgpIHNpdGVjb3JlOiBMYXlvdXRTZXJ2aWNlQ29udGV4dERhdGEgJiB7XHJcbiAgICByb3V0ZTogUm91dGVEYXRhPHVua25vd24+IHwgbnVsbDtcclxuICB9O1xyXG5cclxuICBpc0VkaXRpbmcgPSBmYWxzZTtcclxuICBmcmFtZVByb3BzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xyXG4gIGNocm9tZURhdGEgPSAnJztcclxuXHJcbiAgbmdPbkNoYW5nZXMoKSB7XHJcbiAgICB0aGlzLmlzRWRpdGluZyA9IHRoaXMuc2l0ZWNvcmUuY29udGV4dC5wYWdlRWRpdGluZyB8fCBmYWxzZTtcclxuICAgIGlmICghdGhpcy5pc0VkaXRpbmcpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZnJhbWVQcm9wcy5jbGFzcyA9ICdzY0xvb3NlRnJhbWVab25lJztcclxuICAgIGlmICh0aGlzLmNzc0NsYXNzKSB7XHJcbiAgICAgIHRoaXMuZnJhbWVQcm9wcy5jbGFzcyA9IGAke3RoaXMuZnJhbWVQcm9wcy5jbGFzc30gJHt0aGlzLmNzc0NsYXNzfWA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaXRlbSB1cmkgZm9yIGVkaXQgZnJhbWUgdGFyZ2V0XHJcbiAgICBpZiAodGhpcy5kYXRhU291cmNlKSB7XHJcbiAgICAgIGNvbnN0IHJvdXRlID0gdGhpcy5zaXRlY29yZS5yb3V0ZTtcclxuICAgICAgY29uc3QgZGF0YWJhc2VOYW1lID0gdGhpcy5kYXRhU291cmNlLmRhdGFiYXNlTmFtZSB8fCByb3V0ZT8uZGF0YWJhc2VOYW1lO1xyXG4gICAgICBjb25zdCBsYW5ndWFnZSA9IHRoaXMuZGF0YVNvdXJjZS5sYW5ndWFnZSB8fCB0aGlzLnNpdGVjb3JlLmNvbnRleHQubGFuZ3VhZ2U7XHJcbiAgICAgIHRoaXMuZnJhbWVQcm9wcy5zY19pdGVtID0gYHNpdGVjb3JlOi8vJHtkYXRhYmFzZU5hbWV9LyR7dGhpcy5kYXRhU291cmNlLml0ZW1JZH0/bGFuZz0ke2xhbmd1YWdlfWA7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jaHJvbWVEYXRhID0gdGhpcy5idWlsZENocm9tZURhdGEoKTtcclxuICB9XHJcblxyXG4gIGJ1aWxkQ2hyb21lRGF0YSgpIHtcclxuICAgIGNvbnN0IGNocm9tZURhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge1xyXG4gICAgICBkaXNwbGF5TmFtZTogdGhpcy50aXRsZSxcclxuICAgICAgZXhwYW5kZWREaXNwbGF5TmFtZTogdGhpcy50b29sdGlwLFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodGhpcy5kYXRhU291cmNlKSB7XHJcbiAgICAgIGNocm9tZURhdGEuY29udGV4dEl0ZW1VcmkgPSB0aGlzLmZyYW1lUHJvcHMuc2NfaXRlbTtcclxuICAgIH1cclxuXHJcbiAgICBjaHJvbWVEYXRhLmNvbW1hbmRzID0gdGhpcy5idXR0b25zPy5tYXAoXHJcbiAgICAgICh2YWx1ZSk6IENocm9tZUNvbW1hbmQgPT4ge1xyXG4gICAgICAgIHJldHVybiBtYXBCdXR0b25Ub0NvbW1hbmQodmFsdWUsIHRoaXMuZGF0YVNvdXJjZT8uaXRlbUlkLCB0aGlzLnBhcmFtZXRlcnMpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShjaHJvbWVEYXRhKTtcclxuICB9XHJcbn1cclxuIl19","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}