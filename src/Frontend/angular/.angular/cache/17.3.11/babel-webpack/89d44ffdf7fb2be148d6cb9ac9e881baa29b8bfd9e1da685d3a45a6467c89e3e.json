{"ast":null,"code":"import _asyncToGenerator from \"D:/JSS-APP/angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n// © Sitecore Corporation A/S. All rights reserved. Sitecore® is a registered trademark of Sitecore Corporation A/S.\nimport { getBrowserId, getCloudSDKSettingsBrowser as getCloudSDKSettings, getEnabledPackageBrowser as getEnabledPackage, getGuestId as getGuestIdFromCore, getSettings, handleGetSettingsError } from '@sitecore-cloudsdk/core/internal';\nimport { getCookieValueClientSide } from '@sitecore-cloudsdk/utils';\nimport { ErrorMessages, PACKAGE_NAME } from '../consts';\nimport { awaitInit } from '../init/browser/initializer';\n/**\n * A function that returns the guest ID.\n * @returns - A promise that resolves with the guest ID\n * @throws - Will throw an error if the sitecoreEdgeContextId is incorrect\n * @deprecated Cloud SDK v0.4 introduces a new getGuestId function. If you are upgrading from v0.3, we recommend that\n * you use the getGuestId function that is exposed from \\@sitecore-cloudsdk/core/browser. The v0.3 function will be\n * deprecated and removed in a future Cloud SDK release.\n */\nexport function getGuestId() {\n  return _getGuestId.apply(this, arguments);\n}\nfunction _getGuestId() {\n  _getGuestId = _asyncToGenerator(function* () {\n    yield awaitInit();\n    if (getEnabledPackage(PACKAGE_NAME)?.initState) {\n      const settings = getCloudSDKSettings();\n      const id = getCookieValueClientSide(settings.cookieSettings.name.browserId);\n      return getGuestIdFromCore(id, settings.sitecoreEdgeContextId, settings.sitecoreEdgeUrl);\n    } else {\n      const settings = handleGetSettingsError(getSettings, ErrorMessages.IE_0014);\n      const id = getBrowserId();\n      return getGuestIdFromCore(id, settings.sitecoreEdgeContextId, settings.sitecoreEdgeUrl);\n    }\n  });\n  return _getGuestId.apply(this, arguments);\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}