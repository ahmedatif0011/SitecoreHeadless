{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RoutingModule = exports.jssRouteMatcher = void 0;\nconst tslib_1 = require(\"tslib\");\nconst router_1 = require(\"@angular/router\");\nconst layout_component_1 = require(\"./layout/layout.component\");\nconst not_found_component_1 = require(\"./not-found/not-found.component\");\nconst server_error_component_1 = require(\"./server-error/server-error.component\");\nconst jss_route_resolver_service_1 = require(\"./jss-route-resolver.service\");\nconst jss_route_builder_service_1 = require(\"./jss-route-builder.service\");\nconst sitecore_jss_angular_1 = require(\"@sitecore-jss/sitecore-jss-angular\");\nconst platform_browser_1 = require(\"@angular/platform-browser\");\nconst core_1 = require(\"@ngx-translate/core\");\nconst scripts_module_1 = require(\"./scripts/scripts.module\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/router\"));\nfunction jssRouteMatcher(url) {\n  // use the route builder to parse out language / server route\n  const routeParser = new jss_route_builder_service_1.JssRouteBuilderService();\n  const route = routeParser.parseRouteUrl(url.map(segment => segment.toString()));\n  if (route == null) {\n    return null;\n  }\n  // convert props to route parameters\n  const posParams = {};\n  Object.keys(route).forEach(key => {\n    posParams[key] = new router_1.UrlSegment(route[key], null);\n  });\n  return {\n    consumed: url,\n    posParams\n  };\n}\nexports.jssRouteMatcher = jssRouteMatcher;\nconst routes = [{\n  path: 'NotFound',\n  component: not_found_component_1.NotFoundComponent\n}, {\n  path: 'ServerError',\n  component: server_error_component_1.ServerErrorComponent\n}, {\n  // matcher is effectively a catch-all route\n  matcher: jssRouteMatcher,\n  component: layout_component_1.LayoutComponent,\n  resolve: {\n    jssState: jss_route_resolver_service_1.jssRouteResolver\n  },\n  runGuardsAndResolvers: 'always'\n}];\nlet RoutingModule = /*#__PURE__*/(() => {\n  class RoutingModule {\n    static ɵfac = function RoutingModule_Factory(t) {\n      return new (t || RoutingModule)();\n    };\n    static ɵmod = /*@__PURE__*/i0.ɵɵdefineNgModule({\n      type: RoutingModule\n    });\n    static ɵinj = /*@__PURE__*/i0.ɵɵdefineInjector({\n      providers: [jss_route_builder_service_1.JssRouteBuilderService],\n      imports: [router_1.RouterModule.forRoot(routes, {\n        onSameUrlNavigation: 'reload',\n        initialNavigation: 'enabledBlocking'\n      }), sitecore_jss_angular_1.JssModule, core_1.TranslateModule, platform_browser_1.BrowserModule, scripts_module_1.ScriptsModule, router_1.RouterModule, core_1.TranslateModule]\n    });\n  }\n  return RoutingModule;\n})();\nexports.RoutingModule = RoutingModule;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}